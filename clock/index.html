<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Nes Focus Clock</title>

  <style>
    :root{
      --pink: #f7bfc5;
      --yellow: #f6cf4f;
      --blue: #3d42d8;

      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;

      /* base design size (for scaling) */
      --base-w: 820;
      --base-h: 520;
    }

    html,body{
      height:100%;
      margin:0;
      background: transparent; /* IMPORTANT: outside is transparent */
      overflow:hidden;         /* IMPORTANT: avoid scrollbars in embeds */
      font-family: var(--sans);
    }

    /* Notion iframe container */
    .stage{
      width: 100%;
      height: 100%;
      background: transparent;
      position: relative;
    }

    /* This element gets scaled to fit the iframe */
    .scale{
      width: calc(var(--base-w) * 1px);
      height: calc(var(--base-h) * 1px);
      transform-origin: top left;
      position: absolute;
      top: 0;
      left: 0;
    }

    /* Transparent card wrapper (no cream, no shadow) */
    .card{
      width: 100%;
      height: 100%;
      background: transparent;
      position: relative;
      display:grid;
      place-items:center;
      overflow: visible;
    }

    /* CLOCK */
    .clockWrap{
      position: relative;
      width: 78%;
      height: 64%;
      display:grid;
      place-items:center;
    }

    .clock{
      width: 100%;
      height: 100%;
      position: relative;
      transform: rotate(-10deg);
      transform-origin: 65% 70%;
      animation: wobble 3.6s ease-in-out infinite;
      filter: drop-shadow(0 18px 40px rgba(0,0,0,.18));
    }

    @keyframes wobble{
      0%,100%{ transform: rotate(-10deg) translateY(0); }
      50%{ transform: rotate(-9deg) translateY(2px); }
    }

    /* base shadow under the clock */
    .stand{
      position:absolute;
      left: 52%;
      bottom: -10%;
      width: 38%;
      height: 18%;
      background: rgba(0,0,0,.09);
      border-radius: 999px;
      transform: translateX(-50%) rotate(10deg);
      filter: blur(.2px);
    }

    /* main body */
    .body{
      position:absolute;
      inset: 8% 6% 18% 10%;
      background: var(--yellow);
      border-radius: 30px;
      border: 4px solid var(--blue);
      box-shadow: inset 0 -10px 0 rgba(0,0,0,.06);
    }

    /* side thickness */
    .side{
      position:absolute;
      left: 4%;
      top: 18%;
      width: 16%;
      height: 64%;
      background: var(--blue);
      border-radius: 26px;
      transform: skewY(-6deg);
    }

    .moon{
      position:absolute;
      left: 7%;
      top: 56%;
      width: 10%;
      height: 18%;
      background: #ffd45f;
      border-radius: 999px;
      box-shadow: inset -16px 0 0 var(--blue);
      opacity: .95;
    }

    /* top buttons */
    .btnLong{
      position:absolute;
      top: 4%;
      left: 54%;
      width: 26%;
      height: 10%;
      background: rgba(255,255,255,.65);
      border: 4px solid var(--blue);
      border-radius: 14px;
      transform: translateX(-50%);
      box-shadow: 0 8px 0 rgba(0,0,0,.08);
    }

    .btnSmall{
      position:absolute;
      top: 10%;
      left: 36%;
      width: 10%;
      height: 8%;
      background: rgba(255,255,255,.65);
      border: 4px solid var(--blue);
      border-radius: 12px;
      box-shadow: 0 8px 0 rgba(0,0,0,.08);
    }

    /* front frame */
    .frame{
      position:absolute;
      inset: 24% 10% 26% 20%;
      background: var(--pink);
      border-radius: 22px;
      border: 4px solid var(--blue);
      box-shadow: inset 0 0 0 8px rgba(255,255,255,.45);
    }

    /* display panels */
    .panel{
      position:absolute;
      top: 18%;
      bottom: 18%;
      width: 40%;
      background: rgba(255,255,255,.86);
      border-radius: 16px;
      border: 3px solid rgba(61,66,216,.25);
      box-shadow: inset 0 0 0 6px rgba(255,255,255,.55);
      display:grid;
      place-items:center;
    }
    .panel.left{ left: 8%; }
    .panel.right{ right: 8%; }

    /* digits */
    .digit{
      font-family: var(--mono);
      font-weight: 900;
      letter-spacing: 2px;
      color: var(--blue);
      text-shadow: 0 2px 0 rgba(255,255,255,.8);
      line-height: 1;
      user-select:none;
    }
    .digit.h{ font-size: 96px; opacity: .95; }
    .digit.m{ font-size: 118px; }

    /* small dots on left */
    .dots{
      position:absolute;
      left: 6%;
      top: 38%;
      display:grid;
      gap: 10px;
      opacity:.35;
    }
    .dot{
      width: 10px;
      height: 10px;
      border-radius: 99px;
      background: var(--blue);
    }

    /* battery bars */
    .bars{
      position:absolute;
      right: 12%;
      top: 32%;
      width: 16%;
      height: 10%;
      display:flex;
      gap: 6px;
      align-items:flex-end;
      opacity:.9;
    }
    .bar{ width: 16%; background: var(--blue); border-radius: 6px; }
    .b1{ height: 30%; opacity:.35; }
    .b2{ height: 55%; opacity:.5; }
    .b3{ height: 75%; opacity:.7; }
    .b4{ height: 95%; }

    /* Compact behavior on very small iframes */
    @media (max-width: 520px){
      .clock{ transform: rotate(-6deg); }
    }
  </style>
</head>

<body>
  <div class="stage">
    <div class="scale" id="scale">
      <div class="card">
        <div class="clockWrap">
          <div class="clock">
            <div class="stand"></div>
            <div class="side"></div>
            <div class="moon"></div>

            <div class="body"></div>
            <div class="btnSmall"></div>
            <div class="btnLong"></div>

            <div class="frame">
              <div class="dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
              </div>

              <div class="panel left"><div class="digit h" id="h">00</div></div>
              <div class="panel right"><div class="digit m" id="m">00</div></div>

              <div class="bars">
                <div class="bar b1"></div>
                <div class="bar b2"></div>
                <div class="bar b3"></div>
                <div class="bar b4"></div>
              </div>
            </div>
          </div>
        </div>
      </div><!-- /card -->
    </div><!-- /scale -->
  </div><!-- /stage -->

  <script>
    // --- realtime time ---
    const hEl = document.getElementById("h");
    const mEl = document.getElementById("m");
    const pad = n => String(n).padStart(2,"0");

    function tick(){
      const now = new Date();
      hEl.textContent = pad(now.getHours());
      mEl.textContent = pad(now.getMinutes());
    }

    // --- auto scale to fit Notion iframe ---
    function autoScale(){
      const baseW = 820;
      const baseH = 520;
      const el = document.getElementById("scale");
      if(!el) return;

      const w = window.innerWidth;
      const h = window.innerHeight;

      // Fit both width & height, keep proportions
      const s = Math.min(w / baseW, h / baseH);

      el.style.transform = `scale(${s})`;
      el.style.width = baseW + "px";
      el.style.height = baseH + "px";
    }

    window.addEventListener("resize", autoScale);
    autoScale();
    tick();
    setInterval(tick, 1000);
  </script>
</body>
</html>
